<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fale conosco</title>
    <link rel="stylesheet" href="style_contate.css">
</head>
<body>
    <header class="header">
        <h1>CIBER GUARDIÕES S.A.</h1>
        <h2>Contate-nos</h2>
        <a href="index.html">Voltar à página inicial</a>
    </header>

    <div class="container">
        <label for="inp_nome"class="label">Insira seu nome:</label>
        <br>
        <input type="text" class="input" id="inp_nome">
        <br>
        <label for="inp_email" class="label">Insira seu e-mail:</label>
        <br>
        <input type="email" class="input" id="inp_email">
        <br>
        <label for="inp_telefone" class="label">Insira seu telefone (opcional):</label>
        <br>
        <input type="text" class="input" id="inp_telefone">
        <br>
        <label for="inp_assunto" class="label">Insira o assunto que deseja falar:</label>
        <br>
        <input type="text" class="input" id="inp_assunto">
        <br>
        <label for="inp_mensagem" class="label">Insira a mensagem:</label>
        <br>
        <input type="text" class="input" id="inp_mensagem">
        <br>
        <br>
        <button class="button" id="btn_enviar">Enviar mensagem</button>
        <br>
        <p class="paragrafo" id="p_enviar">Esperando ação</p>
    </div>
</body>
<script>
    document.getElementById("btn_enviar").addEventListener("click",async()=>{
        const nome = document.getElementById("inp_nome").value
        const email = document.getElementById("inp_email").value
        const telefone = document.getElementById("inp_telefone").value
        const assunto = document.getElementById("inp_assunto").value
        const mensagem = document.getElementById("inp_mensagem").value
        

        const resposta = await fetch(`http://localhost:3000/fale_conosco`,{
            method:"post",
            headers: {
                "Accept":"application/json",
                "Content-Type":"application/json"

            },
            body:JSON.stringify({
                "nome":nome,
                "email":email,
                "telefone":telefone,
                "assunto":assunto,
                "mensagem":mensagem
            })
        })

        if(resposta.ok == true){
            const dados = await resposta.json()
            document.getElementById("p_enviar").innerText = dados.resposta
        }
    })
</script>
</html>